---
repos:
    - repo: https://github.com/detailyang/pre-commit-shell
      rev: v1.0.6
      hooks:
          - id: shell-lint
            args: [--format=json]
    - repo: https://github.com/adrienverge/yamllint.git
      rev: v1.29.0
      hooks:
          - id: yamllint
            args: [--format, parsable, --strict]
    - repo: https://github.com/jumanjihouse/pre-commit-hook-yamlfmt
      rev: 0.2.2
      hooks:
          - id: yamlfmt
    - repo: https://github.com/petalmd/dockerfile-pre-commit
      rev: v1.0
      hooks:
          - id: dockerlint
    - repo: https://github.com/ambv/black
      rev: 22.12.0
      hooks:
          - id: black
    - repo: https://github.com/kirklatslalom/pre-commit-hooks.git
      rev: v4.4.2
      hooks:
          - id: check-merge-conflict
          - id: check-yaml
          - id: check-json
          - id: pretty-format-json
          - id: debug-statements
          - id: trailing-whitespace
          - id: requirements-txt-fixer
          - id: name-tests-test
          - id: fix-encoding-pragma
          - id: end-of-file-fixer
          - id: detect-private-key
            args: [--ignore=tests]
          - id: check-executables-have-shebangs
    # - repo: https://github.com/Lucas-C/pre-commit-hooks-bandit
    #  rev: v1.0.6
    #  hooks:
    #      - id: python-bandit-vulnerability-check
    #        files: .py$
    - repo: https://github.com/pycqa/flake8
      rev: 6.0.0
      hooks:
          - id: flake8
            args: [--max-line-length=88]
    - repo: https://github.com/antonbabenko/pre-commit-terraform
      rev: v1.77.0
      hooks:
          - id: terraform_fmt
          - id: terraform_docs
          - id: terraform_validate
          - id: terraform_tflint
          - id: terraform_tfsec
          - id: terraform_checkov
          # - id: terrascan
          - id: infracost_breakdown
            args:
                - --args=--path=aws
            verbose: true
    - repo: https://github.com/aws-cloudformation/cfn-python-lint
      rev: v0.72.5
      hooks:
          - id: cfn-python-lint
            files: path/to/cfn/dir/.*\.(json|yml|yaml)$
    - repo: local
      hooks:
          - id: tests
            name: run tests
            entry: pytest -v
            language: system
            types: [python]
            stages: [push]
